(()=>{"use strict";var e=function(e){if("Escape"===e.key){var t=document.querySelector(".popup.popup_is-opened");t&&n(t)}},t=function(t){t.classList.add("popup_is-opened"),document.addEventListener("keydown",e)},n=function(t){t.classList.remove("popup_is-opened"),document.removeEventListener("keydown",e)},r=function(e){var t=e.cardName,n=e.cardLink,r=e.deleteCard,o=e.setLike,c=e.openImagePopup,p=e.cardTemplate.cloneNode(!0),u=p.querySelector(".card__title"),d=p.querySelector(".card__image"),a=p.querySelector(".card__delete-button"),i=p.querySelector(".card__like-button");return i.addEventListener("click",(function(){return o(i)})),a.addEventListener("click",(function(){return r(p)})),d.addEventListener("click",(function(){return c(n,t)})),u.textContent=t,d.src=n,d.alt=t,p},o=function(e){e.remove()},c=function(e){e.classList.toggle("card__like-button_is-active")},p=document.querySelector("#card-template").content.querySelector(".card"),u=document.querySelector(".places__list"),d=document.querySelector(".profile__edit-button"),a=document.querySelector(".profile__add-button"),i=document.querySelector(".popup_type_edit"),l=document.querySelector(".popup_type_new-card"),s=(document.querySelectorAll(".popup__close"),document.querySelectorAll(".popup")),_=document.forms["new-place"],m=_.querySelector(".popup__input_type_card-name"),y=_.querySelector(".popup__input_type_url"),f=document.forms["edit-profile"],v=f.querySelector(".popup__input_type_name"),k=f.querySelector(".popup__input_type_description"),q=document.querySelector(".profile__title"),S=document.querySelector(".profile__description"),L=document.querySelector(".popup_type_image"),g=L.querySelector(".popup__caption"),E=L.querySelector(".popup__image");d.addEventListener("click",(function(){t(i),v.value=q.textContent,k.value=S.textContent})),a.addEventListener("click",(function(){return t(l)})),f.addEventListener("submit",(function(e){e.preventDefault(),q.textContent=v.value,S.textContent=k.value,n(i)})),_.addEventListener("submit",(function(e){e.preventDefault(),u.prepend(r({cardName:m.value,cardLink:y.value,deleteCard:o,setLike:c,openImagePopup:h,cardTemplate:p})),n(l),_.reset()}));var h=function(e,n){E.src=e,E.alt=n,g.textContent=n,t(L)};s.forEach((function(e){e.addEventListener("click",(function(t){t.target===e&&n(e)})),e.querySelector(".popup__close").addEventListener("click",(function(){return n(e)}))})),[{name:"Архыз",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/arkhyz.jpg"},{name:"Челябинская область",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/chelyabinsk-oblast.jpg"},{name:"Иваново",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/ivanovo.jpg"},{name:"Камчатка",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/kamchatka.jpg"},{name:"Холмогорский район",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/kholmogorsky-rayon.jpg"},{name:"Байкал",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/baikal.jpg"}].forEach((function(e){u.append(r({cardName:e.name,cardLink:e.link,deleteCard:o,setLike:c,openImagePopup:h,cardTemplate:p}))}))})();